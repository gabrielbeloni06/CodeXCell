<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>CodeXCell - Resultados</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}">
</head>
<body>
    <header>
        <h1>CodeXCell</h1>
        <nav>
            <a href="{{ url_for('home') }}">Home</a> |
            <a href="{{ url_for('analyze') }}">Analisar</a>
        </nav>
    </header>

    <main>
        <h2>Resultados da Análise</h2>

        <p><strong>Sequência:</strong> {{ sequence }}</p>

        <h3>Contagem de Bases</h3>
        <ul>
            <li>A: {{ counts.A }}</li>
            <li>T: {{ counts.T }}</li>
            <li>C: {{ counts.C }}</li>
            <li>G: {{ counts.G }}</li>
        </ul>

        <p><strong>GC Content:</strong> {{ gc_content }}%</p>

        {% if start_codon %}
        <p><strong>Start codon encontrado na posição:</strong> {{ start_codon }}</p>
        {% else %}
        <p><strong>Nenhum start codon encontrado.</strong></p>
        {% endif %}

        <div class="chart">
            <h3>Gráfico de Frequência</h3>
            <img src="{{ url_for('plot_png', seq=sequence) }}" alt="Gráfico de nucleotídeos">
        </div>

        <div class="orfs">
            <h3>ORFs Detectados</h3>
            {% if orfs and orfs|length > 0 %}
                <table border="1" cellpadding="5">
                    <tr>
                        <th>Frame</th>
                        <th>Início</th>
                        <th>Fim</th>
                        <th>Tamanho (nt)</th>
                        <th>Proteína</th>
                    </tr>
                    {% for orf in orfs %}
                    <tr>
                        <td>{{ orf.frame }}</td>
                        <td>{{ orf.start }}</td>
                        <td>{{ orf.end }}</td>
                        <td>{{ orf.length }}</td>
                        <td>{{ orf.protein }}</td>
                    </tr>
                    {% endfor %}
                </table>
            {% else %}
                <p>Nenhum ORF encontrado.</p>
            {% endif %}
        </div>

        <div class="explanation">
            <h3>Explicação</h3>
            <p>[Texto gerado pelo LLM será exibido aqui]</p>
        </div>
    </main>

    <footer>
        <p>Projeto CodeXCell © 2025</p>
    </footer>
</body>
</html>
